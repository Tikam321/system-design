<img width="1074" height="762" alt="Screenshot 2026-02-22 at 5 57 26 PM" src="https://github.com/user-attachments/assets/54028e69-f584-467e-b4a6-a4fa8ce0d86f" />
### Scale Requirements

- DAU: 1 million
- Traffic spike: 5x during peak hours
- Read to write ratio: 10:1
- Average document size: 100KB
- Average documents per user: 10
- Edit frequency: 1 edit per second per active document during peak
- Allow up to 100 concurrent users per document



### Operational Transformation(event based trigger)
- Operational Transformations as an algorithm for automatic conflict resolution.

- OT, at its core, is an optimistic concurrency control mechanism. It allows two editors to modify the same section of a document at the same time without conflict. Or rather, it provides a mechanism nor sanely resolving those conflicts so that neither user intervention nor locking becomes necessary.
- Our operation like :
- INSERT(char, position) like (A, 1)
- DELETE(char, position)
- UPDATE(char, new char, position)
- RETAIN(char, position)
- is the basic operation. But there can be numerous operations in Google Docs. Change font, color, font family, font size, etc …
- Another technique is Differential Sync(Line based up)

### Logic
- The basic idea of OT can be illustrated by using a simple text editing scenario as follows. Given a text document with a string “abc” replicated at two collaborating sites, and two concurrent operations:
- O1 = Insert[0, “x”] (to insert character “x” at position “0”)
- O2 = Delete[2, “c”] (to delete the character “c” at position “2”)
- generated by two users at collaborating sites 1 and 2, respectively.
- Suppose the two operations are executed in the order of O1 and O2 (at site 1).
- After executing O1, the document becomes “xabc”.
- To execute O2 after O1, O2 must be transformed against O1 to become: O2' = Delete[3, “c”], whose positional parameter is incremented by one due to the insertion of one character “x” by O1.
- Executing O2' on “xabc” deletes the correct character “c” and the document becomes “xab”. However, if O2 is executed without transformation, it incorrectly deletes character “b” rather than “c”.

- so when both the operation concurrently executed so let's say
- strng originalContent = abc
- o1 execute the insert opeartion insert(0, "x")
- the final string become = xabc
- but when o2 try to update the original string then the versoin of original string is chagned by the o1(optimistic cocurrency control pattern used here)
- so O2 -> abc(original string) has to transform the paramter of editing opeartoin from O2(delete(2,c) to O2'(delete(3,c)) the position is incremented by 1 after transform from O1 .
- so after O2' operation the string become "xab".
<img width="1445" height="693" alt="Screenshot 2026-02-23 at 12 00 18 AM" src="https://github.com/user-attachments/assets/5b9c1635-60cb-4109-80dd-26d469f9fb29" />
